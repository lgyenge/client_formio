import{b as Ne}from"./chunk-AFKO3ZAA.js";import{A as he,B as me,D as Ce,F as Fe,G as ge,Ia as Ae,Ja as Ve,Sa as Me,U as xe,V as be,Wa as He,Xa as Ue,Za as Oe,_a as je,ba as ze,d as Je,da as De,e as $e,ga as fe,ha as de,ib as Le,la as Ee,va as ye,wa as Pe,xb as _e}from"./chunk-BSRB5NMX.js";var Be=Je((Te,Re)=>{"use strict";(function(b,r){typeof define=="function"&&define.amd?define([],r):typeof Re=="object"&&typeof Te<"u"?Re.exports=r():b.Papa=r()})(Te,function b(){"use strict";var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},re=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,c={},w=0,f={parse:function(t,e){var i=(e=e||{}).dynamicTyping||!1;if(y(i)&&(e.dynamicTypingFunction=i,i={}),e.dynamicTyping=i,e.transform=!!y(e.transform)&&e.transform,e.worker&&f.WORKERS_SUPPORTED){var n=function(){if(!f.WORKERS_SUPPORTED)return!1;var d=(D=r.URL||r.webkitURL||null,E=b.toString(),f.BLOB_URL||(f.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",E,")();"],{type:"text/javascript"})))),h=new r.Worker(d),D,E;return h.onmessage=J,h.id=w++,c[h.id]=h}();return n.userStep=e.step,n.userChunk=e.chunk,n.userComplete=e.complete,n.userError=e.error,e.step=y(e.step),e.chunk=y(e.chunk),e.complete=y(e.complete),e.error=y(e.error),delete e.worker,void n.postMessage({input:t,config:e,workerId:n.id})}var s=null;return f.NODE_STREAM_INPUT,typeof t=="string"?(t=function(d){return d.charCodeAt(0)===65279?d.slice(1):d}(t),s=e.download?new Y(e):new ae(e)):t.readable===!0&&y(t.read)&&y(t.on)?s=new ue(e):(r.File&&t instanceof File||t instanceof Object)&&(s=new ne(e)),s.stream(t)},unparse:function(t,e){var i=!1,n=!0,s=",",d=`\r
`,h='"',D=h+h,E=!1,o=null,L=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||f.BAD_DELIMITERS.filter(function(a){return e.delimiter.indexOf(a)!==-1}).length||(s=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(i=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(E=e.skipEmptyLines),typeof e.newline=="string"&&(d=e.newline),typeof e.quoteChar=="string"&&(h=e.quoteChar),typeof e.header=="boolean"&&(n=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");o=e.columns}e.escapeChar!==void 0&&(D=e.escapeChar+h),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(L=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var p=new RegExp(z(h),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return K(null,t,E);if(typeof t[0]=="object")return K(o||Object.keys(t[0]),t,E)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||o),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),K(t.fields||[],t.data||[],E);throw new Error("Unable to serialize unrecognized input");function K(a,v,V){var O="";typeof a=="string"&&(a=JSON.parse(a)),typeof v=="string"&&(v=JSON.parse(v));var P=Array.isArray(a)&&0<a.length,q=!Array.isArray(v[0]);if(P&&n){for(var F=0;F<a.length;F++)0<F&&(O+=s),O+=A(a[F],F);0<v.length&&(O+=d)}for(var l=0;l<v.length;l++){var m=P?a.length:v[l].length,C=!1,I=P?Object.keys(v[l]).length===0:v[l].length===0;if(V&&!P&&(C=V==="greedy"?v[l].join("").trim()==="":v[l].length===1&&v[l][0].length===0),V==="greedy"&&P){for(var _=[],M=0;M<m;M++){var T=q?a[M]:M;_.push(v[l][T])}C=_.join("").trim()===""}if(!C){for(var k=0;k<m;k++){0<k&&!I&&(O+=s);var G=P&&q?a[k]:k;O+=A(v[l][G],k)}l<v.length-1&&(!V||0<m&&!I)&&(O+=d)}}return O}function A(a,v){if(a==null)return"";if(a.constructor===Date)return JSON.stringify(a).slice(1,25);var V=!1;L&&typeof a=="string"&&L.test(a)&&(a="'"+a,V=!0);var O=a.toString().replace(p,D);return(V=V||i===!0||typeof i=="function"&&i(a,v)||Array.isArray(i)&&i[v]||function(P,q){for(var F=0;F<q.length;F++)if(-1<P.indexOf(q[F]))return!0;return!1}(O,f.BAD_DELIMITERS)||-1<O.indexOf(s)||O.charAt(0)===" "||O.charAt(O.length-1)===" ")?h+O+h:O}}};if(f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!re&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=se,f.ParserHandle=R,f.NetworkStreamer=Y,f.FileStreamer=ne,f.StringStreamer=ae,f.ReadableStreamStreamer=ue,r.jQuery){var W=r.jQuery;W.fn.parse=function(t){var e=t.config||{},i=[];return this.each(function(d){if(!(W(this).prop("tagName").toUpperCase()==="INPUT"&&W(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var h=0;h<this.files.length;h++)i.push({file:this.files[h],inputElem:this,instanceConfig:W.extend({},e)})}),n(),this;function n(){if(i.length!==0){var d,h,D,E,o=i[0];if(y(t.before)){var L=t.before(o.file,o.inputElem);if(typeof L=="object"){if(L.action==="abort")return d="AbortError",h=o.file,D=o.inputElem,E=L.reason,void(y(t.error)&&t.error({name:d},h,D,E));if(L.action==="skip")return void s();typeof L.config=="object"&&(o.instanceConfig=W.extend(o.instanceConfig,L.config))}else if(L==="skip")return void s()}var p=o.instanceConfig.complete;o.instanceConfig.complete=function(K){y(p)&&p(K,o.file,o.inputElem),s()},f.parse(o.file,o.instanceConfig)}else y(t.complete)&&t.complete()}function s(){i.splice(0,1),n()}}}function H(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var i=ve(e);i.chunkSize=parseInt(i.chunkSize),e.step||e.chunk||(i.chunkSize=null),this._handle=new R(i),(this._handle.streamer=this)._config=i}).call(this,t),this.parseChunk=function(e,i){if(this.isFirstChunk&&y(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);n!==void 0&&(e=n)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+e;this._partialLine="";var d=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var h=d.meta.cursor;this._finished||(this._partialLine=s.substring(h-this._baseIndex),this._baseIndex=h),d&&d.data&&(this._rowCount+=d.data.length);var D=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(u)r.postMessage({results:d,workerId:f.WORKER_ID,finished:D});else if(y(this._config.chunk)&&!i){if(this._config.chunk(d,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);d=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(d.data),this._completeResults.errors=this._completeResults.errors.concat(d.errors),this._completeResults.meta=d.meta),this._completed||!D||!y(this._config.complete)||d&&d.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||d&&d.meta.paused||this._nextChunk(),d}this._halted=!0},this._sendError=function(e){y(this._config.error)?this._config.error(e):u&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:e,finished:!1})}}function Y(t){var e;(t=t||{}).chunkSize||(t.chunkSize=f.RemoteChunkSize),H.call(this,t),this._nextChunk=re?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(i){this._input=i,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),re||(e.onload=X(this._chunkLoaded,this),e.onerror=X(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!re),this._config.downloadRequestHeaders){var i=this._config.downloadRequestHeaders;for(var n in i)e.setRequestHeader(n,i[n])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{e.send(this._config.downloadRequestBody)}catch(d){this._chunkError(d.message)}re&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(i){var n=i.getResponseHeader("Content-Range");return n===null?-1:parseInt(n.substring(n.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(i){var n=e.statusText||i;this._sendError(new Error(n))}}function ne(t){var e,i;(t=t||{}).chunkSize||(t.chunkSize=f.LocalChunkSize),H.call(this,t);var n=typeof FileReader<"u";this.stream=function(s){this._input=s,i=s.slice||s.webkitSlice||s.mozSlice,n?((e=new FileReader).onload=X(this._chunkLoaded,this),e.onerror=X(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var s=this._input;if(this._config.chunkSize){var d=Math.min(this._start+this._config.chunkSize,this._input.size);s=i.call(s,this._start,d)}var h=e.readAsText(s,this._config.encoding);n||this._chunkLoaded({target:{result:h}})},this._chunkLoaded=function(s){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(s.target.result)},this._chunkError=function(){this._sendError(e.error)}}function ae(t){var e;H.call(this,t=t||{}),this.stream=function(i){return e=i,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var i,n=this._config.chunkSize;return n?(i=e.substring(0,n),e=e.substring(n)):(i=e,e=""),this._finished=!e,this.parseChunk(i)}}}function ue(t){H.call(this,t=t||{});var e=[],i=!0,n=!1;this.pause=function(){H.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){H.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(s){this._input=s,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=X(function(s){try{e.push(typeof s=="string"?s:s.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(d){this._streamError(d)}},this),this._streamError=X(function(s){this._streamCleanUp(),this._sendError(s)},this),this._streamEnd=X(function(){this._streamCleanUp(),n=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function R(t){var e,i,n,s=Math.pow(2,53),d=-s,h=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,D=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,E=this,o=0,L=0,p=!1,K=!1,A=[],a={data:[],errors:[],meta:{}};if(y(t.step)){var v=t.step;t.step=function(l){if(a=l,P())O();else{if(O(),a.data.length===0)return;o+=l.data.length,t.preview&&o>t.preview?i.abort():(a.data=a.data[0],v(a,E))}}}function V(l){return t.skipEmptyLines==="greedy"?l.join("").trim()==="":l.length===1&&l[0].length===0}function O(){return a&&n&&(F("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines&&(a.data=a.data.filter(function(l){return!V(l)})),P()&&function(){if(!a)return;function l(C,I){y(t.transformHeader)&&(C=t.transformHeader(C,I)),A.push(C)}if(Array.isArray(a.data[0])){for(var m=0;P()&&m<a.data.length;m++)a.data[m].forEach(l);a.data.splice(0,1)}else a.data.forEach(l)}(),function(){if(!a||!t.header&&!t.dynamicTyping&&!t.transform)return a;function l(C,I){var _,M=t.header?{}:[];for(_=0;_<C.length;_++){var T=_,k=C[_];t.header&&(T=_>=A.length?"__parsed_extra":A[_]),t.transform&&(k=t.transform(k,T)),k=q(T,k),T==="__parsed_extra"?(M[T]=M[T]||[],M[T].push(k)):M[T]=k}return t.header&&(_>A.length?F("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+_,L+I):_<A.length&&F("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+_,L+I)),M}var m=1;return!a.data.length||Array.isArray(a.data[0])?(a.data=a.data.map(l),m=a.data.length):a.data=l(a.data,0),t.header&&a.meta&&(a.meta.fields=A),L+=m,a}()}function P(){return t.header&&A.length===0}function q(l,m){return C=l,t.dynamicTypingFunction&&t.dynamicTyping[C]===void 0&&(t.dynamicTyping[C]=t.dynamicTypingFunction(C)),(t.dynamicTyping[C]||t.dynamicTyping)===!0?m==="true"||m==="TRUE"||m!=="false"&&m!=="FALSE"&&(function(I){if(h.test(I)){var _=parseFloat(I);if(d<_&&_<s)return!0}return!1}(m)?parseFloat(m):D.test(m)?new Date(m):m===""?null:m):m;var C}function F(l,m,C,I){var _={type:l,code:m,message:C};I!==void 0&&(_.row=I),a.errors.push(_)}this.parse=function(l,m,C){var I=t.quoteChar||'"';if(t.newline||(t.newline=function(T,k){T=T.substring(0,1048576);var G=new RegExp(z(k)+"([^]*?)"+z(k),"gm"),U=(T=T.replace(G,"")).split("\r"),Q=T.split(`
`),$=1<Q.length&&Q[0].length<U[0].length;if(U.length===1||$)return`
`;for(var j=0,x=0;x<U.length;x++)U[x][0]===`
`&&j++;return j>=U.length/2?`\r
`:"\r"}(l,I)),n=!1,t.delimiter)y(t.delimiter)&&(t.delimiter=t.delimiter(l),a.meta.delimiter=t.delimiter);else{var _=function(T,k,G,U,Q){var $,j,x,S;Q=Q||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var oe=0;oe<Q.length;oe++){var g=Q[oe],pe=0,Z=0,le=0;x=void 0;for(var ee=new se({comments:U,delimiter:g,newline:k,preview:10}).parse(T),te=0;te<ee.data.length;te++)if(G&&V(ee.data[te]))le++;else{var ie=ee.data[te].length;Z+=ie,x!==void 0?0<ie&&(pe+=Math.abs(ie-x),x=ie):x=ie}0<ee.data.length&&(Z/=ee.data.length-le),(j===void 0||pe<=j)&&(S===void 0||S<Z)&&1.99<Z&&(j=pe,$=g,S=Z)}return{successful:!!(t.delimiter=$),bestDelimiter:$}}(l,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);_.successful?t.delimiter=_.bestDelimiter:(n=!0,t.delimiter=f.DefaultDelimiter),a.meta.delimiter=t.delimiter}var M=ve(t);return t.preview&&t.header&&M.preview++,e=l,i=new se(M),a=i.parse(e,m,C),O(),p?{meta:{paused:!0}}:a||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,i.abort(),e=y(t.chunk)?"":e.substring(i.getCharIndex())},this.resume=function(){E.streamer._halted?(p=!1,E.streamer.parseChunk(e,!0)):setTimeout(E.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,i.abort(),a.meta.aborted=!0,y(t.complete)&&t.complete(a),e=""}}function z(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function se(t){var e,i=(t=t||{}).delimiter,n=t.newline,s=t.comments,d=t.step,h=t.preview,D=t.fastMode,E=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(E=t.escapeChar),(typeof i!="string"||-1<f.BAD_DELIMITERS.indexOf(i))&&(i=","),s===i)throw new Error("Comment character same as delimiter");s===!0?s="#":(typeof s!="string"||-1<f.BAD_DELIMITERS.indexOf(s))&&(s=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var o=0,L=!1;this.parse=function(p,K,A){if(typeof p!="string")throw new Error("Input must be a string");var a=p.length,v=i.length,V=n.length,O=s.length,P=y(d),q=[],F=[],l=[],m=o=0;if(!p)return N();if(t.header&&!K){var C=p.split(n)[0].split(i),I=[],_={},M=!1;for(var T in C){var k=C[T];y(t.transformHeader)&&(k=t.transformHeader(k,T));var G=k,U=_[k]||0;for(0<U&&(M=!0,G=k+"_"+U),_[k]=U+1;I.includes(G);)G=G+"_"+U;I.push(G)}if(M){var Q=p.split(n);Q[0]=I.join(i),p=Q.join(n)}}if(D||D!==!1&&p.indexOf(e)===-1){for(var $=p.split(n),j=0;j<$.length;j++){if(l=$[j],o+=l.length,j!==$.length-1)o+=n.length;else if(A)return N();if(!s||l.substring(0,O)!==s){if(P){if(q=[],le(l.split(i)),ce(),L)return N()}else le(l.split(i));if(h&&h<=j)return q=q.slice(0,h),N(!0)}}return N()}for(var x=p.indexOf(i,o),S=p.indexOf(n,o),oe=new RegExp(z(E)+z(e),"g"),g=p.indexOf(e,o);;)if(p[o]!==e)if(s&&l.length===0&&p.substring(o,o+O)===s){if(S===-1)return N();o=S+V,S=p.indexOf(n,o),x=p.indexOf(i,o)}else if(x!==-1&&(x<S||S===-1))l.push(p.substring(o,x)),o=x+v,x=p.indexOf(i,o);else{if(S===-1)break;if(l.push(p.substring(o,S)),ie(S+V),P&&(ce(),L))return N();if(h&&q.length>=h)return N(!0)}else for(g=o,o++;;){if((g=p.indexOf(e,g+1))===-1)return A||F.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:o}),te();if(g===a-1)return te(p.substring(o,g).replace(oe,e));if(e!==E||p[g+1]!==E){if(e===E||g===0||p[g-1]!==E){x!==-1&&x<g+1&&(x=p.indexOf(i,g+1)),S!==-1&&S<g+1&&(S=p.indexOf(n,g+1));var pe=ee(S===-1?x:Math.min(x,S));if(p.substr(g+1+pe,v)===i){l.push(p.substring(o,g).replace(oe,e)),p[o=g+1+pe+v]!==e&&(g=p.indexOf(e,o)),x=p.indexOf(i,o),S=p.indexOf(n,o);break}var Z=ee(S);if(p.substring(g+1+Z,g+1+Z+V)===n){if(l.push(p.substring(o,g).replace(oe,e)),ie(g+1+Z+V),x=p.indexOf(i,o),g=p.indexOf(e,o),P&&(ce(),L))return N();if(h&&q.length>=h)return N(!0);break}F.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:o}),g++}}else g++}return te();function le(B){q.push(B),m=o}function ee(B){var qe=0;if(B!==-1){var we=p.substring(g+1,B);we&&we.trim()===""&&(qe=we.length)}return qe}function te(B){return A||(B===void 0&&(B=p.substring(o)),l.push(B),o=a,le(l),P&&ce()),N()}function ie(B){o=B,le(l),l=[],S=p.indexOf(n,o)}function N(B){return{data:q,errors:F,meta:{delimiter:i,linebreak:n,aborted:L,truncated:!!B,cursor:m+(K||0)}}}function ce(){d(N()),q=[],F=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return o}}function J(t){var e=t.data,i=c[e.workerId],n=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var s={abort:function(){n=!0,Se(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Ie,resume:Ie};if(y(i.userStep)){for(var d=0;d<e.results.data.length&&(i.userStep({data:e.results.data[d],errors:e.results.errors,meta:e.results.meta},s),!n);d++);delete e.results}else y(i.userChunk)&&(i.userChunk(e.results,s,e.file),delete e.results)}e.finished&&!n&&Se(e.workerId,e.results)}function Se(t,e){var i=c[t];y(i.userComplete)&&i.userComplete(e),i.terminate(),delete c[t]}function Ie(){throw new Error("Not implemented.")}function ve(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var i in t)e[i]=ve(t[i]);return e}function X(t,e){return function(){t.apply(e,arguments)}}function y(t){return typeof t=="function"}return u&&(r.onmessage=function(t){var e=t.data;if(f.WORKER_ID===void 0&&e&&(f.WORKER_ID=e.workerId),typeof e.input=="string")r.postMessage({workerId:f.WORKER_ID,results:f.parse(e.input,e.config),finished:!0});else if(r.File&&e.input instanceof File||e.input instanceof Object){var i=f.parse(e.input,e.config);i&&r.postMessage({workerId:f.WORKER_ID,results:i,finished:!0})}}),(Y.prototype=Object.create(H.prototype)).constructor=Y,(ne.prototype=Object.create(H.prototype)).constructor=ne,(ae.prototype=Object.create(ae.prototype)).constructor=ae,(ue.prototype=Object.create(H.prototype)).constructor=ue,f})});var Ze=$e(Be(),1),We=(()=>{let r=class r{constructor(){this._papa=Ze}parse(u,c){return this._papa.parse(u,c)}unparse(u,c){return this._papa.unparse(u,c)}setLocalChunkSize(u){this._papa.LocalChunkSize=u}setRemoteChunkSize(u){this._papa.RemoteChunkSize=u}setDefaultDelimiter(u){this._papa.DefaultDelimiter=u}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=he({token:r,factory:r.\u0275fac,providedIn:"root"});let b=r;return b})();var Ke=(()=>{let r=class r{constructor(u,c){this.appConfig=u,this.http=c}authentuicate(){let u=this.appConfig.appUrl+"/user/login",c={data:{email:"admin@example.com",password:"CHANGEME"}},w=new Oe({"Content-Type":"application/json"});return this.http.post(u,c,{headers:w})}uploadForm(u){let c=this.appConfig.appUrl+"/form",w=localStorage.getItem("formioToken")||"",f={title:"151-0111-6525-2 (Acetabular Fixation Screw D:6,5 L:25)",name:"151-0111-6525-2",path:"151-0111-6525-2",type:"form",display:"wizard",tags:["csavar","common"],submissionAccess:[{type:"create_all",roles:[]},{type:"read_all",roles:[]},{type:"update_all",roles:[]},{type:"delete_all",roles:[]},{type:"create_own",roles:["660e4fcbe958c6dc4f0534cb"]},{type:"read_own",roles:["660e4fcbe958c6dc4f0534cb"]},{type:"update_own",roles:["660e4fcbe958c6dc4f0534cb"]},{type:"delete_own",roles:["660e4fcbe958c6dc4f0534cb"]}],owner:"660e4fcbe958c6dc4f05350d",components:[{type:"panel",title:"Page 1",components:[{clearOnHide:!1,label:"Columns",input:!1,tableView:!1,key:"page1Columns",columns:[{components:[{autofocus:!1,input:!0,tableView:!0,inputType:"text",inputMask:"",label:"Cikksz\xE1m",key:"page1ColumnsCikkszm",placeholder:"",prefix:"",suffix:"",multiple:!1,defaultValue:"",protected:!1,unique:!1,persistent:!0,hidden:!1,clearOnHide:!0,spellcheck:!0,validate:{required:!1,minLength:"",maxLength:"",pattern:"",custom:"",customPrivate:!1},conditional:{show:"",when:null,eq:""},type:"textfield",labelPosition:"top",inputFormat:"plain",tags:[],properties:{}}],width:4,offset:0,push:0,pull:0},{components:[{autofocus:!1,input:!0,tableView:!0,inputType:"text",inputMask:"",label:"Sarzs",key:"page1ColumnsSarzs",placeholder:"",prefix:"",suffix:"",multiple:!1,defaultValue:"",protected:!1,unique:!1,persistent:!0,hidden:!1,clearOnHide:!0,spellcheck:!0,validate:{required:!1,minLength:"",maxLength:"",pattern:"",custom:"",customPrivate:!1},conditional:{show:"",when:null,eq:""},type:"textfield",labelPosition:"top",inputFormat:"plain",tags:[],properties:{}}],width:4,offset:0,push:0,pull:0},{components:[{autofocus:!1,input:!0,tableView:!0,inputType:"text",inputMask:"",label:"Megnevez\xE9s",key:"page1ColumnsMegnevezs",placeholder:"",prefix:"",suffix:"",multiple:!1,defaultValue:"",protected:!1,unique:!1,persistent:!0,hidden:!1,clearOnHide:!0,spellcheck:!0,validate:{required:!1,minLength:"",maxLength:"",pattern:"",custom:"",customPrivate:!1},conditional:{show:"",when:null,eq:""},type:"textfield",labelPosition:"top",inputFormat:"plain",tags:[],properties:{}}],width:4,offset:0,push:0,pull:0}],type:"columns",hideLabel:!0,tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{autofocus:!1,input:!0,inputType:"checkbox",tableView:!0,label:"V\xE9gellen\u0151rz\xE9s (ok/nok)",dataGridLabel:!1,key:"page1Vgellenrzsoknok",defaultValue:!1,protected:!1,persistent:!0,hidden:!1,name:"",value:"",clearOnHide:!0,validate:{required:!1},type:"checkbox",labelPosition:"right",hideLabel:!1,tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{input:!0,tableView:!0,label:"Signature",key:"page1Signature",placeholder:"",footer:"Al\xE1\xEDr\xE1s",width:"100%",height:"150px",penColor:"black",backgroundColor:"rgb(245,245,235)",minWidth:"0.5",maxWidth:"2.5",protected:!1,persistent:!0,hidden:!1,clearOnHide:!0,validate:{required:!1},type:"signature",hideLabel:!0,tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],input:!1,key:"page1",clearOnHide:!1,theme:"default",tableView:!1,hideLabel:!1},{type:"panel",title:"Page 2",components:[{clearOnHide:!1,label:"Columns",input:!1,tableView:!1,key:"page2Columns",columns:[{components:[{autofocus:!1,input:!0,tableView:!1,inputType:"number",label:"\xD87,688 (+0,05/0)",key:"page2Columns76880050",placeholder:"",prefix:"",suffix:"",defaultValue:"",protected:!1,persistent:!0,hidden:!1,clearOnHide:!0,validate:{required:!1,min:"",max:"",step:"any",integer:"",multiple:"",custom:""},type:"number",labelPosition:"top",tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{autofocus:!1,input:!0,tableView:!1,inputType:"number",label:"\xD86,5 (0/-0,1)",key:"page2Columns65001",placeholder:"",prefix:"",suffix:"",defaultValue:"",protected:!1,persistent:!0,hidden:!1,clearOnHide:!0,validate:{required:!1,min:"",max:"",step:"any",integer:"",multiple:"",custom:""},type:"number",labelPosition:"top",tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{autofocus:!1,input:!0,inputType:"checkbox",tableView:!1,label:"SW 3,5 ellen\u0151rz\xE9s",dataGridLabel:!1,key:"page2ColumnsSw35Ellenrzs",defaultValue:!1,protected:!1,persistent:!0,hidden:!1,name:"",value:"",clearOnHide:!0,validate:{required:!1},type:"checkbox",labelPosition:"right",hideLabel:!1,tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],width:4,offset:0,push:0,pull:0},{components:[{autofocus:!1,input:!0,tableView:!1,inputType:"number",label:"\xD85,115 (+0,05/0)",key:"page2Columns51150050",placeholder:"",prefix:"",suffix:"",defaultValue:"",protected:!1,persistent:!0,hidden:!1,clearOnHide:!0,validate:{required:!1,min:"",max:"",step:"any",integer:"",multiple:"",custom:""},type:"number",labelPosition:"top",tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{autofocus:!1,input:!0,tableView:!1,inputType:"number",label:"3 (+/-0,1)",key:"page2Columns301",placeholder:"",prefix:"",suffix:"",defaultValue:"",protected:!1,persistent:!0,hidden:!1,clearOnHide:!0,validate:{required:!1,min:"",max:"",step:"any",integer:"",multiple:"",custom:""},type:"number",labelPosition:"top",tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{autofocus:!1,input:!0,inputType:"checkbox",tableView:!1,label:"Fel\xFClet (szemcseszort)",dataGridLabel:!1,key:"page2ColumnsFelletszemcseszort",defaultValue:!1,protected:!1,persistent:!0,hidden:!1,name:"",value:"",clearOnHide:!0,validate:{required:!1},type:"checkbox",labelPosition:"right",hideLabel:!1,tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],width:4,offset:0,push:0,pull:0},{components:[{autofocus:!1,input:!0,tableView:!1,inputType:"number",label:"\xD83 (0/-0,1)",key:"page2Columns3001",placeholder:"",prefix:"",suffix:"",defaultValue:"",protected:!1,persistent:!0,hidden:!1,clearOnHide:!0,validate:{required:!1,min:"",max:"",step:"any",integer:"",multiple:"",custom:""},type:"number",labelPosition:"top",tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{autofocus:!1,input:!0,tableView:!1,inputType:"number",label:"25 (+/-0,2)",key:"page2Columns2502",placeholder:"",prefix:"",suffix:"",defaultValue:"",protected:!1,persistent:!0,hidden:!1,clearOnHide:!0,validate:{required:!1,min:"",max:"",step:"any",integer:"",multiple:"",custom:""},type:"number",labelPosition:"top",tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],width:4,offset:0,push:0,pull:0}],type:"columns",hideLabel:!0,tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],input:!1,key:"page2",clearOnHide:!1,theme:"default",tableView:!1,hideLabel:!1},{type:"panel",title:"Page 3",components:[{clearOnHide:!1,label:"Columns",input:!1,tableView:!1,key:"page3Columns",columns:[{components:[{autofocus:!1,input:!0,inputType:"checkbox",tableView:!1,label:"Bioburden vizsg\xE1lat (\u226510 CFU)",dataGridLabel:!1,key:"page3ColumnsBioburdenvizsglat10Cfu",defaultValue:!1,protected:!1,persistent:!0,hidden:!1,name:"",value:"",clearOnHide:!0,validate:{required:!1},type:"checkbox",labelPosition:"right",hideLabel:!1,tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{autofocus:!1,input:!0,inputType:"checkbox",tableView:!1,label:"Bakteri\xE1lis endotoxin vizsg\xE1lat (\u226520 EU)",dataGridLabel:!1,key:"page3ColumnsBakterilisendotoxinvizsglat20Eu",defaultValue:!1,protected:!1,persistent:!0,hidden:!1,name:"",value:"",clearOnHide:!0,validate:{required:!1},type:"checkbox",labelPosition:"right",hideLabel:!1,tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],width:4,offset:0,push:0,pull:0},{components:[{autofocus:!1,input:!0,inputType:"checkbox",tableView:!1,label:"Sterilit\xE1s vizsg\xE1lat (steril/nem steril)",dataGridLabel:!1,key:"page3ColumnsSterilitsvizsglatsterilnemsteril",defaultValue:!1,protected:!1,persistent:!0,hidden:!1,name:"",value:"",clearOnHide:!0,validate:{required:!1},type:"checkbox",labelPosition:"right",hideLabel:!1,tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],width:4,offset:0,push:0,pull:0},{components:[{autofocus:!1,input:!0,inputType:"checkbox",tableView:!1,label:"Csomagol\xE1s-z\xE1r\xE1s vizsg\xE1lat (ok/nok)",dataGridLabel:!1,key:"page3ColumnsCsomagolsZrsvizsglatoknok",defaultValue:!1,protected:!1,persistent:!0,hidden:!1,name:"",value:"",clearOnHide:!0,validate:{required:!1},type:"checkbox",labelPosition:"right",hideLabel:!1,tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],width:4,offset:0,push:0,pull:0}],type:"columns",hideLabel:!0,tags:[],conditional:{show:"",when:null,eq:""},properties:{}}],input:!1,key:"page3",clearOnHide:!1,theme:"default",tableView:!1,hideLabel:!1},{clearOnHide:!1,label:"Columns",input:!1,tableView:!1,key:"columns",columns:[{components:[],width:4,offset:0,push:0,pull:0},{components:[],width:4,offset:0,push:0,pull:0},{components:[],width:4,offset:0,push:0,pull:0}],type:"columns",hideLabel:!0,tags:[],conditional:{show:"",when:null,eq:""},properties:{}},{autofocus:!1,input:!0,label:"Submit",tableView:!1,key:"submit",size:"md",leftIcon:"",rightIcon:"",block:!1,action:"submit",disableOnInvalid:!1,theme:"primary",type:"button"}]},W=new Oe({"Content-Type":"application/json","x-jwt-token":w});return this.http.post(c,u,{headers:W})}};r.\u0275fac=function(c){return new(c||r)(Ce(_e),Ce(je))},r.\u0275prov=he({token:r,factory:r.\u0275fac,providedIn:"root"});let b=r;return b})();function tt(b,r){if(b&1&&(fe(0,"div"),ye(1),Ae(2,"json"),de()),b&2){let re=r.$implicit;xe(),Pe(Ve(2,1,re))}}var Ge=(()=>{let r=class r{constructor(u,c,w){this.appConfig=u,this.papa=c,this.upload=w,this.file="",this.importedData=[]}ngOnInit(){let u=this}uploadForm(){this.dataList.forEach(u=>{this.formToUpload=this.generateForm(u),this.upload.uploadForm(this.formToUpload).subscribe(c=>{})})}readCsvFromLocal(u){let c=u.srcElement.files;this.parseCsvFile(c[0])}parseCsvFile(u){this.papa.parse(u,{header:!0,dynamicTyping:!0,skipEmptyLines:"greedy",worker:!0,complete:(c,w)=>{this.dataList=c.data,this.papaParseComplete(c)}})}papaParseComplete(u){this.dataList=u.data}generateForm(u){let c="",w={title:"",display:"form",type:"form",name:"",path:"",tags:["common"],components:[],access:[{type:"read_all",roles:["66615ebd567532322b440b21","66615ebd567532322b440b25","66615ebd567532322b440b29"]}],submissionAccess:[{type:"create_all",roles:[]},{type:"read_all",roles:["66615ebd567532322b440b25"]},{type:"update_all",roles:[]},{type:"delete_all",roles:[]},{type:"create_own",roles:["66615ebd567532322b440b25"]},{type:"read_own",roles:["66615ebd567532322b440b25"]},{type:"update_own",roles:["66615ebd567532322b440b25"]},{type:"delete_own",roles:["66615ebd567532322b440b25"]}]},f={type:"button",action:"submit",label:"Submit",theme:"primary"},W={label:"lot",widget:"choicesjs",tableView:!0,dataSrc:"resource",data:{resource:Ne.lotId},valueProperty:"data.lot",template:"<span>{{ item.data.lot }}</span>",validateWhenHidden:!1,key:"lot1",type:"select",searchField:"data.lot__regex",noRefreshOnScroll:!1,addResource:!1,reference:!1,input:!0},H=ue("user");H.customDefaultValue="value = user.data.email;",H.disabled=!0,w.name=u.Cikksz\u00E1m+c,w.title=u.Cikksz\u00E1m+" ("+u.Megnevez\u00E9s+")",w.path=u.Cikksz\u00E1m+c,w.components?.push(H),w.components?.push(W);let Y=ne("serial","","serial");Y.label="serial",Y.key="serial",w.components?.push(Y);for(let R=0;R<Object.keys(u).length/3;R++)if(u["Tp-"+R]=="n"){let z=ne(u["Par-"+R],u["Tr-"+R],R);w.components?.push(z)}else if(u["Tp-"+R]=="b"){let z=ae(u["Par-"+R],u["Tr-"+R],R);w.components?.push(z)}return w.components?.push(f),w;function ne(R,z,se){var J={input:!0,tableView:!0,inputType:"number",inputMask:"",label:"First Name",key:"firstName",placeholder:"",prefix:"",suffix:"",defaultValue:"",protected:!1,unique:!1,persistent:!0,validate:{required:!1,minLength:0,maxLength:50,pattern:"",custom:"",customPrivate:!1},conditional:{show:!1,when:"",eq:""},type:"number",tags:[],lockKey:!0,isNew:!1};return J.label=R+"("+z+")",J.key="par"+se,J}function ae(R,z,se){var J={label:"Checkbox",tableView:!0,key:"checkbox",type:"checkbox",input:!0};return J.label=R+"("+z+")",J.key="par"+se,J}function ue(R){var z={type:"textfield",label:"",key:"",input:!0,hidden:!1,disabled:!1,customDefaultValue:""};return z.label=R,z.key=R,z}}};r.\u0275fac=function(c){return new(c||r)(be(_e),be(We),be(Ke))},r.\u0275cmp=Fe({type:r,selectors:[["app-upload"]],decls:6,vars:1,consts:[["type","file","accept",".csv",1,"form-control",3,"change"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(c,w){c&1&&(fe(0,"input",0),Ee("change",function(W){return w.readCsvFromLocal(W)}),de(),fe(1,"button",1),Ee("click",function(){return w.uploadForm()}),ye(2,"Upload Form"),de(),fe(3,"div"),ye(4,"data from csv"),de(),ze(5,tt,3,3,"div",2)),c&2&&(xe(5),De("ngForOf",w.dataList))},dependencies:[Me,He]});let b=r;return b})();var it=[{path:"",component:Ge}],Qe=(()=>{let r=class r{};r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=ge({type:r}),r.\u0275inj=me({imports:[Le.forChild(it),Le]});let b=r;return b})();var mt=(()=>{let r=class r{};r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=ge({type:r}),r.\u0275inj=me({imports:[Ue,Qe]});let b=r;return b})();export{mt as UploadModule};
